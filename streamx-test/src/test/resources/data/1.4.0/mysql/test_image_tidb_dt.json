{
  "params": {
    "batchDuration": "30"
  },
  "plugins": [
  ],
  "configs": [
    {
      "reader": {
        "name": "cn.tongdun.streamx.kafka.reader.KafkaReader",
        "brokerList": "33.69.6.13:9092,33.69.6.14:9092,33.69.6.15:9092,33.69.6.16:9092,33.69.6.17:9092,33.69.6.18:9092",
        "topic": "baldur-etc-portal",
        "groupId": "baldur-etc-portal_202001126",
        "extraConfigs": "auto.offset.reset:latest",
        "parser": "json"
      },
      "writers": [
        {
          "name": "cn.tongdun.streamx.mysql.writer.MysqlWriter",
          "url": "jdbc:mysql://33.69.3.23:4000/tidb_hhy_dw?useUnicode=true&characterEncoding=UTF-8&useSSL=false&rewriteBatchedStatements=true&useServerPrepStmts=true&allowMultiQueries=true",
          "user": "root",
          "password": "123456",
          "table": "ods_chg_rt_dfs_gantry_travelimage_dt"
        }
      ],
      "transformer": {
        "where": "",
        "sort": {
          "partitionKey": "",
          "primaryKey": "PicId,VehiclePlate",
          "sortKey": ""
        },
        "reader_fields": {
          "PicId": {
            "type": "string"
          },
          "GantryId": {
            "type": "string"
          },
          "GantryOrderNum": {
            "type": "int"
          },
          "GantryHex": {
            "type": "string"
          },
          "PicTime": {
            "type": "string"
          },
          "DriveDir": {
            "type": "int"
          },
          "CameraNum": {
            "type": "int"
          },
          "HourBatchNo": {
            "type": "string"
          },
          "ShootPosition": {
            "type": "int"
          },
          "LaneNum": {
            "type": "string"
          },
          "VehiclePlate": {
            "type": "string"
          },
          "VehicleSpeed": {
            "type": "int"
          },
          "IdentifyType": {
            "type": "int"
          },
          "VehicleModel": {
            "type": "string"
          },
          "VehicleColor": {
            "type": "string"
          },
          "ImageSize": {
            "type": "int"
          },
          "LicenseImageSize": {
            "type": "int"
          },
          "BinImageSize": {
            "type": "int"
          },
          "Reliability": {
            "type": "string"
          },
          "VehFeatureCode": {
            "type": "string"
          },
          "FaceFeatureCode": {
            "type": "string"
          },
          "VerifyCode": {
            "type": "string"
          },
          "TradeId": {
            "type": "string"
          },
          "MatchStatus": {
            "type": "int"
          },
          "ValidStatus": {
            "type": "int"
          },
          "DealStatus": {
            "type": "int"
          },
          "RelatedPicId": {
            "type": "string"
          },
          "AllRelatedPicId": {
            "type": "string"
          },
          "StationDBTime": {
            "type": "string"
          },
          "StationDealTime": {
            "type": "string"
          },
          "StationValidTime": {
            "type": "string"
          },
          "StationMatchTime": {
            "type": "string"
          },
          "UploadFlag": {
            "type": "int"
          },
          "UploadTime": {
            "type": "string"
          },
          "LnduceFlag": {
            "type": "int"
          },
          "LnduceTime": {
            "type": "string"
          },
          "CognateSerial": {
            "type": "string"
          },
          "AllCognateSerial": {
            "type": "string"
          },
          "MUploadFlag": {
            "type": "int"
          },
          "MUploadTime": {
            "type": "string"
          },
          "ChargeUnitId": {
            "type": "string"
          },
          "TransDate": {
            "type": "string"
          },
          "VersionInfo": {
            "type": "string"
          },
          "Spare1": {
            "type": "string"
          },
          "Spare2": {
            "type": "string"
          },
          "Spare3": {
            "type": "string"
          },
          "Spare4": {
            "type": "string"
          },
          "Spare5": {
            "type": "string"
          },
          "Spare6": {
            "type": "string"
          },
          "Spare7": {
            "type": "string"
          },
          "Spare8": {
            "type": "string"
          }
        },
        "writer_fields": [
          "PicId",
          "GantryId",
          "GantryOrderNum",
          "GantryHex",
          "PicTime",
          "DriveDir",
          "CameraNum",
          "HourBatchNo",
          "ShootPosition",
          "LaneNum",
          "VehiclePlate",
          "VehicleSpeed",
          "IdentifyType",
          "VehicleModel",
          "VehicleColor",
          "ImageSize",
          "LicenseImageSize",
          "BinImageSize",
          "Reliability",
          "VehFeatureCode",
          "FaceFeatureCode",
          "VerifyCode",
          "TradeId",
          "MatchStatus",
          "ValidStatus",
          "DealStatus",
          "RelatedPicId",
          "AllRelatedPicId",
          "StationDBTime",
          "StationDealTime",
          "StationValidTime",
          "StationMatchTime",
          "UploadFlag",
          "UploadTime",
          "LnduceFlag",
          "LnduceTime",
          "CognateSerial",
          "AllCognateSerial",
          "MUploadFlag",
          "MUploadTime",
          "from_unixtime(unix_timestamp(),'yyyy-MM-dd HH:mm:ss')",
          "ChargeUnitId",
          "TransDate",
          "VersionInfo",
          "Spare1",
          "Spare2",
          "Spare3",
          "Spare4",
          "Spare5",
          "Spare6",
          "Spare7",
          "Spare8",
          "concat(substr(HourBatchNo,1,4),substr(HourBatchNo,5,2),substr(HourBatchNo,7,2))",
          "substr(HourBatchNo,7,2))"
        ]
      }
    }
  ]
}