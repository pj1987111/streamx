{
  "params": {
    "batchDuration": 30
  },
  "plugins": [],
  "configs": [
    {
      "reader": {
        "name": "cn.tongdun.streamx.kafka.reader.KafkaReader",
        "brokerList": "10.57.34.20:9092",
        "topic": "23test",
        "groupId": "1",
        "extraConfigs": "auto.offset.reset:latest",
        "parser": "json"
      },
      "writers": [
        {
          "name": "cn.tongdun.streamx.hive.writer.HiveWriter",
          "tableName": "hhy_dw.test_simple_1",
          "partitionValue": ""
        }
      ],
      "transformer": {
        "where": "",
        "reader_fields": {
          "id": {
            "type": "varchar"
          },
          "latitude": {
            "type": "varchar"
          },
          "longitude": {
            "type": "varchar"
          },
          "sendTime": {
            "type": "varchar"
          },
          "time": {
            "type": "varchar"
          },
          "userId": {
            "type": "varchar"
          }
        },
        "writer_fields": [
          "id as id",
          "latitude as latitude",
          "longitude as longitude",
          "sendtime as sendtime",
          "time as time",
          "userid as userid"
        ]
      }
    },
    {
      "reader": {
        "name": "cn.tongdun.streamx.kafka.reader.KafkaReader",
        "brokerList": "10.57.34.20:9092",
        "topic": "24test",
        "groupId": "23",
        "extraConfigs": "auto.offset.reset:earliest",
        "parser": "json"
      },
      "writers": [
        {
          "name": "cn.tongdun.streamx.hive.writer.HiveWriter",
          "tableName": "hhy_dw.test_simple_3_dt",
          "partitionValue": "ds"
        },
        {
          "name": "cn.tongdun.streamx.elastic.writer.ElasticWriter",
          "url": "33.69.6.95:9221,33.69.6.96:9221,33.69.6.97:9221,33.69.6.98:9221",
          "index": "test_zzz",
          "partitionValue": "",
          "type": "base",
          "batchSize": 1000,
          "hasId": false
        }
      ],
      "transformer": {
        "where": "tbName='exit_jour'",
        "reader_fields": {
          "data.N_sign_Status": {
            "type": "int"
          },
          "data.c_bankExamNo": {
            "type": "varchar"
          },
          "data.c_cacu_way": {
            "type": "varchar"
          },
          "data.c_card_license": {
            "type": "varchar"
          },
          "data.c_cardno": {
            "type": "varchar"
          },
          "data.c_category": {
            "type": "varchar"
          },
          "tbName": {
            "type": "varchar"
          },
          "time": {
            "type": "varchar"
          }
        },
        "writer_fields": [
          "data_N_sign_Status",
          "data_c_bankExamNo",
          "data_c_cacu_way",
          "data_c_card_license",
          "data_c_cardno",
          "data_c_category",
          "tbName",
          "time",
          "concat(substr(time,1,4),substr(time,6,2),substr(time,9,2)) as ds"
        ]
      }
    }
  ]
}